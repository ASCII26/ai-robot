# OLED显示版本使用说明

## 功能概述

已将小智AI脚本的所有输出重定向到OLED显示屏，提供更好的可视化体验：

### 显示区域布局
```
┌─────────── 128x32 OLED ───────────┐
│ [状态栏] 小智AI          ●/♪     │ <- 顶部8像素状态栏
├───────────────────────────────────┤
│ [12:34] 系统就绪                  │ 
│ [12:35] 连接小智服务器成功          │ <- 文本显示区域
│ [12:36] 开始语音识别              │    (支持滚动)
│ >> 正在录音中...                  │
└───────────────────────────────────┘
```

### 状态指示器
- **●** (闪烁) - 录音中
- **♪** - AI回复播放中
- 无符号 - 就绪状态

## 使用步骤

### 1. 测试OLED显示
```bash
cd /path/to/ai-robot/example
python test_oled.py
```
检查OLED屏幕是否正常显示测试内容。

### 2. 运行小智AI
```bash
python py-xiaozhi.py
```

### 3. 命令行控制
程序启动后，在终端输入命令：
- `s` 或 `start` - 开始语音识别
- `t` 或 `stop` - 停止语音识别
- `q` 或 `quit` - 退出程序
- `h` 或 `help` - 显示帮助

## 显示功能特点

### 实时状态显示
- 连接状态、录音状态、播放状态
- 系统消息和错误信息
- 时间戳标记

### 智能文本管理
- 自动换行和滚动
- 长消息自动截断
- 历史消息缓存

### 视觉反馈
- 录音时红点闪烁
- 播放时音符显示
- 状态栏实时更新

## 文件说明

- `oled_display.py` - OLED显示管理器
- `py-xiaozhi.py` - 修改后的小智AI主程序
- `test_oled.py` - OLED显示测试脚本

## 故障排除

### OLED显示异常
1. 检查硬件连接
2. 运行测试脚本验证
3. 检查SPI/I2C配置

### 显示内容过多
系统会自动管理显示内容，旧消息会自动滚动出视野。

### 程序崩溃
程序退出时会自动清理OLED资源，重新运行即可。

## 注意事项

- 保持命令行窗口用于输入命令
- OLED显示所有状态和消息
- 程序异常时使用Ctrl+C安全退出
- 支持后续恢复键盘控制（代码已预留）

现在你可以在树莓派上享受可视化的小智AI体验了！